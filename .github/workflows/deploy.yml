# 워크플로우의 이름
name: Deploy to GitHub Pages

# 언제 이 워크플로우를 실행할 것인지 정의
on:
  # main 브랜치에 push 이벤트가 발생했을 때 실행
  push:
    branches:
      - main # 사용하는 기본 브랜치 이름 (main 또는 master)

# 워크플로우가 실행될 작업(job)을 정의
jobs:
  deploy:
    # 실행될 환경을 지정
    runs-on: ubuntu-latest

    # 작업(job)에 필요한 권한을 설정
    permissions:
      contents: read
      pages: write      # pages에 배포하기 위한 권한
      id-token: write   # OIDC 토큰을 요청하기 위한 권한

    # 실제 실행될 단계(steps)를 정의
    steps:
      # 1. 리포지토리의 코드를 체크아웃
      - name: Checkout
        uses: actions/checkout@v4

      # 2. GitHub Pages 설정을 로드
      - name: Setup Pages
        uses: actions/configure-pages@v5

      # 3. 배포할 아티팩트(결과물)를 업로드
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          # 현재 디렉토리('.')의 모든 파일을 업로드
          path: '.'

      # 4. 아티팩트를 GitHub Pages에 배포
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
